name = "deliverability-yeevu"
main = ".open-next/worker.js"
compatibility_date = "2026-01-25"
compatibility_flags = ["nodejs_compat", "global_fetch_strictly_public"]

[assets]
directory = ".open-next/assets"
binding = "ASSETS"

[vars]
NEXT_PUBLIC_BASE_PATH = "/deliverability"
AUTH0_ISSUER_BASE_URL = "https://auth.yeevu.com"
AUTH0_BASE_URL = "https://app.yeevu.com/deliverability"
ADMIN_USER_IDS = "auth0|68699f577e5e9a9c0d641fa2"

# KV Namespace for storing user projects
# Create with: wrangler kv namespace create PROJECTS_KV
[[kv_namespaces]]
binding = "PROJECTS_KV"
id = "c62f299e25a24503a5af21dc52992afd"

# KV Namespace for check result cache (global, per domain, not per user)
# Create with: wrangler kv namespace create CACHE_KV
[[kv_namespaces]]
binding = "CACHE_KV"
id = "49b4f49a60b84a4e914d89b625378fe6"

# D1 Database for analytics
# Create with: wrangler d1 create yeevu-inbox-analytics
[[d1_databases]]
binding = "DB"
database_name = "yeevu-inbox-analytics"
database_id = "13249f1e-c1b0-4f1e-ac61-ecfe38bb9296"

# Durable Objects for server-side rate limiting
[[durable_objects.bindings]]
name = "RATE_LIMITER"
class_name = "RateLimiter"

[[migrations]]
tag = "v1"
new_sqlite_classes = ["RateLimiter"]
